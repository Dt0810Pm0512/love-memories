<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¢¦å¹»æµªæ¼«å‘Šç™½ - é›€è·ƒç‰ˆ</title>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'love': '#ff6b9d',
                        'magic': '#9b59b6',
                        'sky': '#3498db',
                        'gold': '#ffd700',
                        'morandi-pink': '#e8c5b5',
                        'morandi-purple': '#c7b9d8'
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-gradient {
                background: linear-gradient(45deg, #ff6b9d, #9b59b6, #3498db, #ffd700);
                background-size: 300% 300%;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                animation: gradientShift 4s ease infinite;
            }
            .glass-card {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(15px);
                border: 1px solid rgba(255, 255, 255, 0.3);
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            }
            .mobile-btn {
                transition: all 0.2s ease;
                touch-action: manipulation;
                user-select: none;
            }
            .mobile-btn:active {
                transform: scale(0.95);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            }
            .btn-glow {
                box-shadow: 0 0 25px rgba(255, 107, 157, 0.7);
            }
            .btn-glow-strong {
                box-shadow: 0 0 40px rgba(255, 107, 157, 0.9), 0 0 80px rgba(155, 89, 182, 0.7);
                animation: glowPulse 2s ease-in-out infinite alternate;
            }
            .heart-beat {
                animation: heartBeat 1.5s ease-in-out infinite;
            }
            .star-twinkle {
                animation: starTwinkle 2s ease-in-out infinite alternate;
            }
            .butterfly-float {
                animation: butterflyFloat 3s ease-in-out infinite;
            }
            .magic-sparkle {
                animation: magicSparkle 2.5s ease-in-out infinite;
            }
            .bubble-rise {
                animation: bubbleRise 4s ease-out infinite;
            }
            .rotate-slow {
                animation: rotateSlow 6s linear infinite;
            }
            .pulse-glow {
                animation: pulseGlow 2s ease-in-out infinite;
            }
            .celebrate-jump {
                animation: celebrateJump 0.8s ease-in-out infinite;
            }
            .fireworks {
                animation: fireworks 1.5s ease-out infinite;
            }
            .explosion {
                animation: explosion 1s ease-out forwards;
            }
            .tada {
                animation: tada 1s ease-in-out infinite;
            }
            .bounce-in {
                animation: bounceIn 0.6s ease-out forwards;
            }
            .zoom-in-out {
                animation: zoomInOut 2s ease-in-out infinite;
            }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-12px) rotate(5deg); }
        }
        
        @keyframes pulse-simple {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes pop-simple {
            0% { transform: scale(0.9) rotate(-5deg); opacity: 0; }
            50% { transform: scale(1.1) rotate(2deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        @keyframes heartFloat {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg) scale(0.5);
                opacity: 0;
            }
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(-360deg) scale(0.3);
                opacity: 0;
            }
        }
        
        @keyframes confettiFloat {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg) scale(0.8);
                opacity: 0;
            }
        }
        
        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            14% { transform: scale(1.3); }
            28% { transform: scale(1); }
            42% { transform: scale(1.3); }
            70% { transform: scale(1); }
        }
        
        @keyframes starTwinkle {
            0% { transform: scale(1) rotate(0deg); opacity: 0.6; }
            100% { transform: scale(1.2) rotate(180deg); opacity: 1; }
        }
        
        @keyframes butterflyFloat {
            0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
            25% { transform: translateY(-8px) translateX(5px) rotate(5deg); }
            50% { transform: translateY(-12px) translateX(0) rotate(0deg); }
            75% { transform: translateY(-8px) translateX(-5px) rotate(-5deg); }
        }
        
        @keyframes magicSparkle {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
        }
        
        @keyframes bubbleRise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100vh) scale(0.5);
                opacity: 0;
            }
        }
        
        @keyframes rotateSlow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 107, 157, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 107, 157, 0.9), 0 0 60px rgba(155, 89, 182, 0.7); }
        }
        
        @keyframes glowPulse {
            from { box-shadow: 0 0 30px rgba(255, 107, 157, 0.8), 0 0 60px rgba(155, 89, 182, 0.6); }
            to { box-shadow: 0 0 40px rgba(255, 107, 157, 1), 0 0 80px rgba(155, 89, 182, 0.8), 0 0 100px rgba(255, 215, 0, 0.5); }
        }
        
        @keyframes sparkle {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.3) rotate(180deg); opacity: 0.8; }
        }
        
        @keyframes rainbowGlow {
            0% { box-shadow: 0 0 20px #ff6b9d; }
            25% { box-shadow: 0 0 20px #9b59b6; }
            50% { box-shadow: 0 0 20px #3498db; }
            75% { box-shadow: 0 0 20px #ffd700; }
            100% { box-shadow: 0 0 20px #ff6b9d; }
        }
        
        @keyframes floatSideways {
            0%, 100% { transform: translateX(0) translateY(0) rotate(0deg); }
            25% { transform: translateX(10px) translateY(-5px) rotate(5deg); }
            50% { transform: translateX(0) translateY(-10px) rotate(0deg); }
            75% { transform: translateX(-10px) translateY(-5px) rotate(-5deg); }
        }
        
        @keyframes celebrateJump {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.1); }
        }
        
        @keyframes fireworks {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(2) rotate(360deg); opacity: 0; }
        }
        
        @keyframes explosion {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }
        
        @keyframes tada {
            0%, 100% { transform: scale(1) rotate(0deg); }
            10%, 30%, 50%, 70%, 90% { transform: scale(1.1) rotate(-1deg); }
            20%, 40%, 60%, 80% { transform: scale(1.1) rotate(1deg); }
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes zoomInOut {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        /* ç§»åŠ¨ç«¯ä¼˜åŒ–æ ·å¼ */
        @media (max-width: 640px) {
            .mobile-optimized {
                padding: 0.5rem;
                margin: 0;
            }
            
            .mobile-card {
                width: 95vw;
                max-width: 95vw;
                padding: 2rem 1.5rem;
                margin: 0 auto;
            }
            
            .mobile-title {
                font-size: 2.5rem;
                line-height: 1.2;
                margin-bottom: 1rem;
            }
            
            .mobile-heart {
                font-size: 1.5rem;
                margin: 0 0.3rem;
            }
            
            .mobile-heart-large {
                font-size: 2rem;
                margin: 0 0.5rem;
            }
            
            .mobile-text {
                font-size: 1.3rem;
                margin-bottom: 0.6rem;
            }
            
            .mobile-btn {
                width: 100%;
                padding: 1.4rem 1rem;
                font-size: 1.2rem;
                margin-bottom: 1rem;
                border-radius: 1rem;
            }
            
            .mobile-modal {
                width: 95vw;
                max-width: 95vw;
                padding: 2rem 1.5rem;
                margin: 0 auto;
            }
            
            .mobile-runaway-btn {
                padding: 1.2rem 2rem;
                font-size: 1.1rem;
                border-radius: 1rem;
                min-width: 160px;
                min-height: 56px;
            }
            
            .celebration-text {
                font-size: 1.8rem;
                font-weight: bold;
                text-align: center;
                margin: 1rem 0;
                animation: tada 1s ease-in-out infinite;
            }
        }
        
        /* é˜²æ­¢é¡µé¢æ»šåŠ¨ */
        body {
            overflow: hidden;
            touch-action: none;
        }
        
        /* ç¡¬ä»¶åŠ é€Ÿä¼˜åŒ– */
        .hardware-accelerated {
            transform: translateZ(0);
            backface-visibility: hidden;
            will-change: transform, opacity, box-shadow;
        }
        
        /* è£…é¥°å…ƒç´  */
        .floating-decoration {
            position: fixed;
            pointer-events: none;
            z-index: 5;
            animation-duration: 4s;
            animation-timing-function: ease-out;
            animation-fill-mode: forwards;
        }
        
        .celebration-element {
            position: fixed;
            pointer-events: none;
            z-index: 15;
        }
        
        .background-particle {
            position: fixed;
            pointer-events: none;
            z-index: 1;
        }
        
        .firework-element {
            position: fixed;
            pointer-events: none;
            z-index: 20;
        }
        
        /* åŠ¨æ€èƒŒæ™¯ */
        .dynamic-bg {
            background: linear-gradient(135deg, #ffeef5 0%, #f0e6ff 25%, #e6f3ff 50%, #fff0f5 75%, #ffeef5 100%);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
        }
        
        /* åœ†ç¯è£…é¥° */
        .circle-decoration {
            position: fixed;
            border: 2px solid rgba(255, 107, 157, 0.3);
            border-radius: 50%;
            pointer-events: none;
            z-index: 2;
            animation: rotateSlow 10s linear infinite;
        }
        
        /* å‘å…‰åœ†ç¯ */
        .glow-circle {
            position: fixed;
            border: 1px solid rgba(255, 107, 157, 0.6);
            border-radius: 50%;
            pointer-events: none;
            z-index: 3;
            animation: pulseGlow 3s ease-in-out infinite;
        }
        
        /* é›€è·ƒæ–‡å­—æ ·å¼ */
        .excited-text {
            position: fixed;
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b9d;
            text-align: center;
            pointer-events: none;
            z-index: 25;
            animation: celebrateJump 1s ease-in-out infinite;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center mobile-optimized overflow-hidden dynamic-bg font-inter hardware-accelerated">
    <!-- èƒŒæ™¯è£…é¥°åœ†ç¯ -->
    <div class="circle-decoration hardware-accelerated" style="width: 300px; height: 300px; top: -100px; left: -100px;"></div>
    <div class="circle-decoration hardware-accelerated" style="width: 200px; height: 200px; bottom: -50px; right: -50px; animation-delay: 2s;"></div>
    <div class="circle-decoration hardware-accelerated" style="width: 150px; height: 150px; top: 20%; right: 10%; animation-delay: 4s;"></div>
    
    <!-- å‘å…‰åœ†ç¯ -->
    <div class="glow-circle hardware-accelerated" style="width: 250px; height: 250px; top: 10%; left: 20%;"></div>
    <div class="glow-circle hardware-accelerated" style="width: 180px; height: 180px; bottom: 20%; right: 25%; animation-delay: 1.5s;"></div>
    
    <!-- ä¸»å¡ç‰‡ -->
    <div class="relative z-10 mobile-card hardware-accelerated">
        <!-- ä¸»å†…å®¹ -->
        <div class="relative glass-card rounded-3xl p-8 text-center hardware-accelerated pulse-glow">
            <!-- æ ‡é¢˜ -->
            <h1 class="mobile-title font-bold mb-6 text-gradient animate-float hardware-accelerated">ä¹–ä¹–</h1>
            
            <!-- çˆ±å¿ƒè£…é¥° -->
            <div class="flex justify-center items-center mb-8 hardware-accelerated">
                <div class="mobile-heart animate-pulse-simple heart-beat hardware-accelerated">ğŸ’–</div>
                <div class="mobile-heart-large animate-pulse-simple butterfly-float hardware-accelerated">ğŸ’•</div>
                <div class="mobile-heart-large animate-pulse-simple heart-beat hardware-accelerated">â¤ï¸</div>
                <div class="mobile-heart-large animate-pulse-simple butterfly-float hardware-accelerated">ğŸ’•</div>
                <div class="mobile-heart animate-pulse-simple heart-beat hardware-accelerated">ğŸ’–</div>
            </div>
            
            <!-- å‘Šç™½æ–‡å­— -->
            <div class="mb-8 hardware-accelerated">
                <p class="mobile-text font-semibold text-gray-800 mb-4 animate-float hardware-accelerated">æˆ‘å–œæ¬¢ä½ </p>
                <p class="mobile-text text-gray-600 animate-float hardware-accelerated" style="animation-delay: 0.5s;">åšæˆ‘å¥³æœ‹å‹å§</p>
            </div>
            
            <!-- è£…é¥°å…ƒç´  -->
            <div class="flex justify-center items-center mb-6 hardware-accelerated">
                <div class="text-2xl star-twinkle mx-2 hardware-accelerated">â­</div>
                <div class="text-2xl magic-sparkle mx-2 hardware-accelerated">âœ¨</div>
                <div class="text-2xl star-twinkle mx-2 hardware-accelerated">ğŸ’«</div>
            </div>
            
            <!-- æŒ‰é’® -->
            <div class="space-y-4 hardware-accelerated">
                <button id="acceptBtn" class="mobile-btn bg-gradient-to-r from-love to-magic text-white font-bold btn-glow-strong hover:btn-glow-strong transition-all duration-300 transform hover:scale-105 hardware-accelerated">
                    <i class="fa fa-heart mr-3 heart-beat hardware-accelerated"></i>æˆ‘æ„¿æ„
                </button>
                
                <button id="rejectBtn" class="mobile-btn bg-gradient-to-r from-morandi-pink to-morandi-purple text-gray-800 font-bold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 hardware-accelerated">
                    <i class="fa fa-times mr-3 hardware-accelerated"></i>è€ƒè™‘ä¸€ä¸‹
                </button>
            </div>
        </div>
    </div>
    
    <!-- è°ƒçš®æ¨¡æ€æ¡† -->
    <div id="teaseModal" class="fixed inset-0 bg-black/20 backdrop-blur-sm z-20 hidden flex items-center justify-center p-4 hardware-accelerated">
        <div class="glass-card rounded-3xl p-6 mobile-modal hardware-accelerated pulse-glow">
            <div id="teaseContent">
                <div class="text-6xl mb-4 animate-pulse-simple hardware-accelerated">ğŸ˜œ</div>
                <h2 class="text-2xl font-bold text-gray-800 mb-3 hardware-accelerated">å˜¿å˜¿ï¼Œå¼€ç©ç¬‘çš„å§ï¼Ÿ</h2>
                <p class="text-lg text-gray-700 mb-6 hardware-accelerated">æˆ‘çŸ¥é“ä½ å¿ƒé‡Œæ˜¯æ„¿æ„çš„ ğŸ˜‰ ä½ çš„çœ¼ç¥å·²ç»å‡ºå–äº†ä½ å“¦ï¼</p>
                <div class="flex space-x-3 mb-4 hardware-accelerated">
                    <button id="teaseRejectBtn" class="flex-1 mobile-btn bg-gradient-to-r from-morandi-pink to-morandi-purple text-gray-800 font-bold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 hardware-accelerated">
                        <i class="fa fa-times mr-2 hardware-accelerated"></i>è¿˜æ˜¯æ‹’ç»
                    </button>
                    <button id="teaseAcceptBtn" class="flex-1 mobile-btn bg-gradient-to-r from-love to-magic text-white font-bold btn-glow hover:btn-glow-strong transition-all duration-300 transform hover:scale-105 hardware-accelerated">
                        <i class="fa fa-heart mr-2 heart-beat hardware-accelerated"></i>å¥½å§ï¼Œæˆ‘æ„¿æ„
                    </button>
                </div>
                <div class="text-3xl animate-float hardware-accelerated">ğŸ˜œğŸ’–ğŸ˜œâœ¨â­</div>
            </div>
        </div>
    </div>
    
    <!-- æƒŠå–œæ¨¡æ€æ¡† -->
    <div id="surpriseModal" class="fixed inset-0 bg-black/20 backdrop-blur-sm z-20 hidden flex items-center justify-center p-4 hardware-accelerated">
        <div class="glass-card rounded-3xl p-6 text-center mobile-modal hardware-accelerated pulse-glow">
            <div class="text-5xl mb-4 animate-pulse-simple hardware-accelerated">ğŸ‰</div>
            <h2 class="text-2xl font-bold mb-4 text-gradient hardware-accelerated">å‘Šç™½å½“ç„¶è¦è§é¢è¯´</h2>
            <h3 class="text-3xl font-bold mb-6 text-love hardware-accelerated">ä¸‹æ¥¼ï¼ï¼</h3>
            <div class="flex justify-center items-center mb-6 hardware-accelerated">
                <div class="text-3xl animate-float mx-2 hardware-accelerated">ğŸ’–</div>
                <div class="text-4xl animate-pulse-simple mx-2 hardware-accelerated">ğŸ’•</div>
                <div class="text-3xl animate-float mx-2 hardware-accelerated">ğŸ’˜</div>
                <div class="text-4xl star-twinkle mx-2 hardware-accelerated">â­</div>
            </div>
            <button id="surpriseBtn" class="mobile-btn bg-gradient-to-r from-gold to-love text-white font-bold btn-glow-strong hover:btn-glow-strong transition-all duration-300 transform hover:scale-105 hardware-accelerated">
                <i class="fa fa-arrow-down mr-3 animate-pulse-simple hardware-accelerated"></i>æ”¶åˆ°
            </button>
        </div>
    </div>
    
    <!-- é€šçŸ¥ -->
    <div id="notification" class="fixed top-4 right-4 bg-gradient-to-r from-love to-magic text-white px-6 py-3 rounded-xl shadow-xl transform translate-x-full transition-transform duration-300 z-20 hidden animate-float hardware-accelerated">
        å¿«å»æ¥¼ä¸‹å§ï¼ä»–åœ¨ç­‰ä½ å‘¢ï¼ğŸ’–â­
    </div>
    
    <script>
        // å…¨å±€å˜é‡
        let clickCount = 0;
        let isRunningAway = false;
        let isCelebrating = false;
        let runawayInterval = null;
        let backgroundInterval = null;
        
        // DOMå…ƒç´ 
        const acceptBtn = document.getElementById('acceptBtn');
        const rejectBtn = document.getElementById('rejectBtn');
        const teaseModal = document.getElementById('teaseModal');
        const surpriseModal = document.getElementById('surpriseModal');
        const surpriseBtn = document.getElementById('surpriseBtn');
        const notification = document.getElementById('notification');
        
        // æ‹’ç»æŒ‰é’®çš„ä¸åŒååº”
        const responses = [
            {
                face: 'ğŸ˜œ',
                title: 'å˜¿å˜¿ï¼Œå¼€ç©ç¬‘çš„å§ï¼Ÿ',
                text: 'æˆ‘çŸ¥é“ä½ å¿ƒé‡Œæ˜¯æ„¿æ„çš„ ğŸ˜‰ ä½ çš„çœ¼ç¥å·²ç»å‡ºå–äº†ä½ å“¦ï¼',
                decor: 'ğŸ˜œğŸ’–ğŸ˜œâœ¨â­'
            },
            {
                face: 'ğŸ˜‚',
                title: 'è¿˜åœ¨å˜´ç¡¬ï¼Ÿ',
                text: 'åˆ«è£…å•¦ï¼Œæˆ‘éƒ½çœ‹å‡ºæ¥äº†ï¼ä½ å…¶å®å¾ˆå–œæ¬¢æˆ‘å¯¹ä¸å¯¹ï¼Ÿ',
                decor: 'ğŸ˜‚ğŸ’•ğŸ˜‚ğŸ’˜â­'
            },
            {
                face: 'ğŸ¤ª',
                title: 'åˆ«é—¹äº†ï¼Œä¹–ä¹–ï¼',
                text: 'æˆ‘ä»¬éƒ½çŸ¥é“ç»“å±€çš„ ğŸ˜‰ ä¸å¦‚å°±ä»äº†æˆ‘å§ï¼',
                decor: 'ğŸ¤ªğŸ’˜ğŸ˜šğŸ’–â­'
            },
            {
                face: 'ğŸ˜‚',
                title: 'å“ˆå“ˆï¼ŒæŠ“ä¸åˆ°æˆ‘ï¼',
                text: 'çœ‹æ¥ä½ çœŸçš„å¾ˆå–œæ¬¢æˆ‘å‘¢ ğŸ˜‰ ä¸è¿‡ä½ æ˜¯æŠ“ä¸åˆ°æˆ‘çš„ï¼',
                decor: 'ğŸ˜‚ğŸ’–ğŸƒâ€â™‚ï¸âœ¨â­'
            }
        ];
        
        // é›€è·ƒè¯è¯­
        const excitedMessages = [
            'å¤ªå¥½äº†ï¼ï¼',
            'æˆ‘å°±çŸ¥é“ï¼',
            'å¼€å¿ƒåˆ°é£èµ·ï¼',
            'ç»ˆäºç­‰åˆ°ä½ ï¼',
            'æˆ‘çš„å¿ƒåœ¨è·³ï¼',
            'æ¢¦æƒ³æˆçœŸï¼',
            'å¤ªå¹¸ç¦äº†ï¼',
            'çˆ±ä½ å“Ÿï¼',
            'è¿™æ˜¯çœŸçš„å—ï¼Ÿ',
            'æˆ‘å¥½å¼€å¿ƒï¼',
            'YESï¼YESï¼',
            'å¤ªæ£’äº†ï¼'
        ];
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('æ¢¦å¹»æµªæ¼«å‘Šç™½ - é›€è·ƒç‰ˆ åˆå§‹åŒ–');
            
            // é˜²æ­¢é¡µé¢æ»šåŠ¨å’Œç¼©æ”¾
            document.body.addEventListener('touchmove', function(e) {
                e.preventDefault();
            }, { passive: false });
            
            // ç»‘å®šæ‰€æœ‰äº‹ä»¶
            bindAllEvents();
            
            // å¼€å§‹ä¸°å¯Œçš„èƒŒæ™¯è£…é¥°
            startRichBackgroundDecorations();
            
            // æ·»åŠ èƒŒæ™¯ç²’å­æ•ˆæœ
            startBackgroundParticles();
            
            console.log('åˆå§‹åŒ–å®Œæˆï¼Œæ‰€æœ‰åŠŸèƒ½å·²å°±ç»ª');
        });
        
        // ç»‘å®šæ‰€æœ‰äº‹ä»¶
        function bindAllEvents() {
            console.log('ç»‘å®šäº‹ä»¶ä¸­...');
            
            // ä¸»æŒ‰é’®äº‹ä»¶
            if (acceptBtn) {
                acceptBtn.addEventListener('click', handleAccept);
                acceptBtn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    handleAccept();
                }, { passive: false });
                console.log('æ¥å—æŒ‰é’®äº‹ä»¶å·²ç»‘å®š');
            }
            
            if (rejectBtn) {
                rejectBtn.addEventListener('click', handleReject);
                rejectBtn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    handleReject();
                }, { passive: false });
                console.log('æ‹’ç»æŒ‰é’®äº‹ä»¶å·²ç»‘å®š');
            }
            
            // æƒŠå–œæŒ‰é’®äº‹ä»¶
            if (surpriseBtn) {
                surpriseBtn.addEventListener('click', handleSurprise);
                surpriseBtn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    handleSurprise();
                }, { passive: false });
                console.log('æƒŠå–œæŒ‰é’®äº‹ä»¶å·²ç»‘å®š');
            }
            
            // é˜²æ­¢ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            if (teaseModal) {
                teaseModal.addEventListener('click', function(e) {
                    if (e.target === teaseModal) {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                });
                console.log('æ¨¡æ€æ¡†å¤–éƒ¨ç‚¹å‡»äº‹ä»¶å·²ç»‘å®š');
            }
        }
        
        // å¤„ç†æ¥å—
        function handleAccept() {
            if (isCelebrating) return;
            
            isCelebrating = true;
            console.log('å¤„ç†æ¥å— - å¼€å§‹é›€è·ƒåº†ç¥');
            
            // éšè—æ‰€æœ‰æ¨¡æ€æ¡†
            teaseModal.classList.add('hidden');
            
            // åœæ­¢é€ƒè·‘æ¨¡å¼
            stopRunningAway();
            
            // åˆ›å»ºè¶…ä¸°å¯Œçš„åº†ç¥åŠ¨ç”»
            createSuperCelebration();
            
            // æ˜¾ç¤ºé›€è·ƒè¯è¯­
            showExcitedMessages();
            
            // 15ç§’åæ˜¾ç¤ºæƒŠå–œå¼¹çª—
            setTimeout(() => {
                showSurpriseModal();
            }, 15000);
        }
        
        // åœæ­¢é€ƒè·‘æ¨¡å¼
        function stopRunningAway() {
            if (isRunningAway) {
                isRunningAway = false;
                
                // æ¸…é™¤é€ƒè·‘æŒ‰é’®çš„å®šæ—¶å™¨
                if (runawayInterval) {
                    clearInterval(runawayInterval);
                    runawayInterval = null;
                }
                
                // æ”¹å˜é€ƒè·‘æŒ‰é’®ä¸ºé›€è·ƒçŠ¶æ€
                const runawayBtn = document.getElementById('runawayBtn');
                if (runawayBtn) {
                    runawayBtn.innerHTML = '<i class="fa fa-heart mr-3 heart-beat hardware-accelerated"></i>å¤ªæ£’äº†ï¼';
                    runawayBtn.className = 'fixed z-20 mobile-runaway-btn mobile-btn bg-gradient-to-r from-gold to-love text-white font-bold btn-glow-strong shadow-xl celebrate-jump hardware-accelerated';
                    runawayBtn.style.transition = 'all 0.3s ease';
                    runawayBtn.style.left = '50%';
                    runawayBtn.style.top = '80%';
                    runawayBtn.style.transform = 'translate(-50%, 0)';
                    
                    // ç§»é™¤ç‚¹å‡»äº‹ä»¶
                    runawayBtn.removeEventListener('click', handleRunawayClick);
                    runawayBtn.removeEventListener('touchstart', handleRunawayTouch);
                }
            }
        }
        
        // å¤„ç†æ‹’ç»
        function handleReject() {
            if (isCelebrating) return;
            
            clickCount++;
            console.log('å¤„ç†æ‹’ç»ï¼Œç‚¹å‡»æ¬¡æ•°ï¼š', clickCount);
            
            const response = responses[Math.min(clickCount - 1, responses.length - 1)];
            if (response) {
                showTeaseModal(response);
            }
            
            // 4æ¬¡åå¼€å§‹é€ƒè·‘æ¨¡å¼
            if (clickCount >= 4) {
                setTimeout(() => {
                    teaseModal.classList.add('hidden');
                    startRunningAway();
                }, 1500);
            }
        }
        
        // æ˜¾ç¤ºè°ƒçš®æ¨¡æ€æ¡†
        function showTeaseModal(response) {
            console.log('æ˜¾ç¤ºè°ƒçš®æ¨¡æ€æ¡†');
            
            const teaseContent = document.getElementById('teaseContent');
            if (teaseContent) {
                teaseContent.innerHTML = `
                    <div class="text-6xl mb-4 animate-pulse-simple hardware-accelerated">${response.face}</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-3 hardware-accelerated">${response.title}</h2>
                    <p class="text-lg text-gray-700 mb-6 hardware-accelerated">${response.text}</p>
                    <div class="flex space-x-3 mb-4 hardware-accelerated">
                        <button id="teaseRejectBtn" class="flex-1 mobile-btn bg-gradient-to-r from-morandi-pink to-morandi-purple text-gray-800 font-bold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 hardware-accelerated">
                            <i class="fa fa-times mr-2 hardware-accelerated"></i>è¿˜æ˜¯æ‹’ç»
                        </button>
                        <button id="teaseAcceptBtn" class="flex-1 mobile-btn bg-gradient-to-r from-love to-magic text-white font-bold btn-glow hover:btn-glow-strong transition-all duration-300 transform hover:scale-105 hardware-accelerated">
                            <i class="fa fa-heart mr-2 heart-beat hardware-accelerated"></i>å¥½å§ï¼Œæˆ‘æ„¿æ„
                        </button>
                    </div>
                    <div class="text-3xl animate-float hardware-accelerated">${response.decor}</div>
                `;
                
                // é‡æ–°ç»‘å®šæ¨¡æ€æ¡†æŒ‰é’®äº‹ä»¶
                setTimeout(() => {
                    const newTeaseRejectBtn = document.getElementById('teaseRejectBtn');
                    const newTeaseAcceptBtn = document.getElementById('teaseAcceptBtn');
                    
                    if (newTeaseRejectBtn) {
                        newTeaseRejectBtn.addEventListener('click', handleTeaseReject);
                        newTeaseRejectBtn.addEventListener('touchstart', function(e) {
                            e.preventDefault();
                            handleTeaseReject();
                        }, { passive: false });
                    }
                    
                    if (newTeaseAcceptBtn) {
                        newTeaseAcceptBtn.addEventListener('click', handleTeaseAccept);
                        newTeaseAcceptBtn.addEventListener('touchstart', function(e) {
                            e.preventDefault();
                            handleTeaseAccept();
                        }, { passive: false });
                    }
                }, 100);
            }
            
            teaseModal.classList.remove('hidden');
            
            // æ·»åŠ å¼¹å‡ºåŠ¨ç”»
            setTimeout(() => {
                const modal = teaseModal.querySelector('.glass-card');
                if (modal) {
                    modal.classList.add('animate-pop-simple');
                }
            }, 50);
            
            // æ·»åŠ æ¨¡æ€æ¡†å‡ºç°çš„ç²’å­æ•ˆæœ
            createModalParticles();
        }
        
        // å¤„ç†æ¨¡æ€æ¡†ä¸­çš„æ‹’ç»
        function handleTeaseReject() {
            console.log('å¤„ç†æ¨¡æ€æ¡†ä¸­çš„æ‹’ç»');
            clickCount++;
            
            const response = responses[Math.min(clickCount - 1, responses.length - 1)];
            if (response) {
                showTeaseModal(response);
            }
            
            // 4æ¬¡åå…³é—­å¼¹çª—å¹¶å¼€å§‹é€ƒè·‘æ¨¡å¼
            if (clickCount >= 4) {
                setTimeout(() => {
                    teaseModal.classList.add('hidden');
                    startRunningAway();
                }, 1500);
            }
        }
        
        // å¤„ç†æ¨¡æ€æ¡†ä¸­çš„æ¥å—
        function handleTeaseAccept() {
            console.log('å¤„ç†æ¨¡æ€æ¡†ä¸­çš„æ¥å—');
            teaseModal.classList.add('hidden');
            handleAccept();
        }
        
        // å¼€å§‹é€ƒè·‘æ¨¡å¼
        function startRunningAway() {
            isRunningAway = true;
            console.log('å¼€å§‹é€ƒè·‘æ¨¡å¼');
            
            // éšè—åŸæŒ‰é’®
            if (rejectBtn) {
                rejectBtn.classList.add('hidden');
            }
            
            // åˆ›å»ºé€ƒè·‘æŒ‰é’®
            createRunawayButton();
        }
        
        // åˆ›å»ºé€ƒè·‘æŒ‰é’®
        function createRunawayButton() {
            console.log('åˆ›å»ºé€ƒè·‘æŒ‰é’®');
            
            let runawayBtn = document.getElementById('runawayBtn');
            if (!runawayBtn) {
                runawayBtn = document.createElement('button');
                runawayBtn.id = 'runawayBtn';
                runawayBtn.className = 'fixed z-20 mobile-runaway-btn mobile-btn bg-gradient-to-r from-love to-magic text-white font-bold btn-glow-strong shadow-xl animate-pulse-simple hardware-accelerated';
                document.body.appendChild(runawayBtn);
            }
            
            runawayBtn.innerHTML = '<i class="fa fa-running mr-3 hardware-accelerated"></i>æŠ“ä¸åˆ°æˆ‘ï¼';
            resetButtonPosition(runawayBtn);
            
            // ç»‘å®šäº‹ä»¶
            runawayBtn.addEventListener('click', handleRunawayClick);
            runawayBtn.addEventListener('touchstart', handleRunawayTouch, { passive: false });
            
            // è§¦æ‘¸ç§»åŠ¨æ—¶èº²é¿
            document.addEventListener('touchmove', function(e) {
                if (runawayBtn && isRunningAway) {
                    const touch = e.touches[0];
                    const btnRect = runawayBtn.getBoundingClientRect();
                    
                    const distance = Math.sqrt(
                        Math.pow(touch.clientX - (btnRect.left + btnRect.width/2), 2) +
                        Math.pow(touch.clientY - (btnRect.top + btnRect.height/2), 2)
                    );
                    
                    if (distance < 150) {
                        moveButtonRandomly(runawayBtn);
                    }
                }
            }, { passive: false });
            
            // è‡ªåŠ¨ç§»åŠ¨
            runawayInterval = setInterval(() => {
                if (runawayBtn && isRunningAway) {
                    moveButtonRandomly(runawayBtn);
                }
            }, 2000);
        }
        
        // å¤„ç†é€ƒè·‘æŒ‰é’®è§¦æ‘¸äº‹ä»¶
        function handleRunawayTouch(e) {
            e.preventDefault();
            handleRunawayClick();
        }
        
        // é‡ç½®æŒ‰é’®ä½ç½®
        function resetButtonPosition(button) {
            const maxX = window.innerWidth - 180;
            const maxY = window.innerHeight - 70;
            
            const x = Math.random() * maxX;
            const y = Math.random() * maxY;
            
            button.style.left = x + 'px';
            button.style.top = y + 'px';
        }
        
        // éšæœºç§»åŠ¨æŒ‰é’®
        function moveButtonRandomly(button) {
            const maxX = window.innerWidth - 180;
            const maxY = window.innerHeight - 70;
            
            const x = Math.random() * maxX;
            const y = Math.random() * maxY;
            
            button.style.transition = 'all 0.4s ease';
            button.style.left = x + 'px';
            button.style.top = y + 'px';
            button.style.transform = `rotate(${Math.random() * 20 - 10}deg)`;
            
            // éšæœºæ”¹å˜æŒ‰é’®æ–‡å­—å’Œé¢œè‰²
            const texts = ['æŠ“ä¸åˆ°æˆ‘ï¼', 'åœ¨è¿™é‡Œï¼', 'å˜¿å˜¿ï¼', 'æ¥å•Šï¼', 'ä½ è¿½ä¸åˆ°ï¼', 'å˜¿å˜¿å˜¿ï¼', 'ä¼‘æƒ³ï¼'];
            const randomText = texts[Math.floor(Math.random() * texts.length)];
            
            const gradients = [
                'from-love to-magic',
                'from-sky to-magic',
                'from-gold to-love',
                'from-morandi-pink to-love',
                'from-morandi-purple to-sky'
            ];
            const randomGradient = gradients[Math.floor(Math.random() * gradients.length)];
            
            button.className = `fixed z-20 mobile-runaway-btn mobile-btn bg-gradient-to-r ${randomGradient} text-white font-bold btn-glow-strong shadow-xl animate-pulse-simple hardware-accelerated`;
            button.innerHTML = `<i class="fa fa-running mr-3 hardware-accelerated"></i>${randomText}`;
            
            // åˆ›å»ºä¸°å¯Œçš„ç²’å­æ•ˆæœ
            createRichParticles(button, 8);
        }
        
        // å¤„ç†é€ƒè·‘æŒ‰é’®ç‚¹å‡»
        function handleRunawayClick() {
            const runawayBtn = document.getElementById('runawayBtn');
            if (runawayBtn) {
                moveButtonRandomly(runawayBtn);
                
                // æ˜¾ç¤ºè°ƒçš®æ¶ˆæ¯
                const messages = [
                    'å˜¿å˜¿ï¼ŒæŠ“åˆ°æˆ‘å†è¯´ï¼', 
                    'åˆ«é—¹äº†ï¼Œæ¥å—å§ï¼', 
                    'æˆ‘å°±çŸ¥é“ä½ å–œæ¬¢æˆ‘ï¼',
                    'è¿˜ä¸æ”¾å¼ƒå—ï¼Ÿ',
                    'ä½ æœç„¶å¾ˆå–œæ¬¢æˆ‘ï¼',
                    'å“ˆå“ˆï¼ŒçœŸæ‰§ç€ï¼'
                ];
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                
                showNotification(randomMessage);
            }
        }
        
        // åˆ›å»ºä¸°å¯Œçš„ç²’å­æ•ˆæœ
        function createRichParticles(element, count) {
            const rect = element.getBoundingClientRect();
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const particleTypes = ['ğŸ’–', 'ğŸ’•', 'ğŸ’˜', 'âœ¨', 'â­', 'ğŸ’«', 'ğŸ¦‹', 'ğŸŒˆ', 'ğŸ’', 'ğŸŒ¸'];
                    const particle = document.createElement('div');
                    particle.className = 'celebration-element hardware-accelerated';
                    particle.textContent = particleTypes[Math.floor(Math.random() * particleTypes.length)];
                    particle.style.left = (rect.left + rect.width / 2 + (Math.random() - 0.5) * 100) + 'px';
                    particle.style.top = (rect.top + rect.height / 2 + (Math.random() - 0.5) * 100) + 'px';
                    particle.style.fontSize = (Math.random() * 12 + 8) + 'px';
                    particle.style.animation = `heartFloat ${Math.random() * 0.5 + 0.5}s ease-out forwards`;
                    
                    // éšæœºåŠ¨ç”»
                    const animations = ['star-twinkle', 'magic-sparkle', 'butterfly-float', 'heart-beat'];
                    particle.classList.add(animations[Math.floor(Math.random() * animations.length)]);
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 1000);
                }, i * 100);
            }
        }
        
        // åˆ›å»ºè¶…ä¸°å¯Œçš„åº†ç¥åŠ¨ç”»
        function createSuperCelebration() {
            console.log('åˆ›å»ºè¶…ä¸°å¯Œçš„åº†ç¥åŠ¨ç”»');
            
            // ç«‹å³åˆ›å»ºçˆ†ç‚¸æ•ˆæœ
            createExplosionEffect();
            
            // é˜¶æ®µ1ï¼šçˆ±å¿ƒé›¨ï¼ˆ0-3ç§’ï¼‰- æ•°é‡ç¿»å€
            setTimeout(() => {
                for (let i = 0; i < 100; i++) {
                    setTimeout(() => {
                        createFallingHeart();
                    }, i * 100);
                }
            }, 0);
            
            // é˜¶æ®µ2ï¼šè´è¶é£èˆï¼ˆ1-6ç§’ï¼‰- æ•°é‡å¢åŠ 
            setTimeout(() => {
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        createButterfly();
                    }, i * 150);
                }
            }, 1000);
            
            // é˜¶æ®µ3ï¼šæ˜Ÿæ˜Ÿé—ªçƒï¼ˆ2-8ç§’ï¼‰- å¢åŠ é­”æ³•æ˜Ÿæ˜Ÿ
            setTimeout(() => {
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        createTwinklingStar();
                    }, i * 120);
                }
            }, 2000);
            
            // é˜¶æ®µ4ï¼šäº”å½©çº¸å±‘ï¼ˆ3-10ç§’ï¼‰- æ•°é‡ç¿»å€
            setTimeout(() => {
                for (let i = 0; i < 120; i++) {
                    setTimeout(() => {
                        createConfetti();
                    }, i * 80);
                }
            }, 3000);
            
            // é˜¶æ®µ5ï¼šé­”æ³•ç²’å­ï¼ˆ4-12ç§’ï¼‰- å¢åŠ é­”æ³•æ•ˆæœ
            setTimeout(() => {
                for (let i = 0; i < 60; i++) {
                    setTimeout(() => {
                        createMagicParticle();
                    }, i * 120);
                }
            }, 4000);
            
            // é˜¶æ®µ6ï¼šæ³¡æ³¡ä¸Šå‡ï¼ˆ5-15ç§’ï¼‰- å¢åŠ æ³¡æ³¡æ•°é‡
            setTimeout(() => {
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        createBubble();
                    }, i * 150);
                }
            }, 5000);
            
            // é˜¶æ®µ7ï¼šçƒŸèŠ±æ•ˆæœï¼ˆ6-14ç§’ï¼‰- æ–°å¢çƒŸèŠ±åŠ¨ç”»
            setTimeout(() => {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        createFirework();
                    }, i * 500);
                }
            }, 6000);
            
            // é˜¶æ®µ8ï¼šçˆ†ç‚¸æ–‡å­—ï¼ˆ8-16ç§’ï¼‰- æ–°å¢æ–‡å­—çˆ†ç‚¸
            setTimeout(() => {
                createExplodingText();
            }, 8000);
            
            // åº†ç¥ç»“æŸï¼Œé‡ç½®çŠ¶æ€
            setTimeout(() => {
                isCelebrating = false;
            }, 16000);
        }
        
        // åˆ›å»ºçˆ†ç‚¸æ•ˆæœ
        function createExplosionEffect() {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const explosion = document.createElement('div');
                    explosion.className = 'firework-element hardware-accelerated explosion';
                    explosion.textContent = ['ğŸ’¥', 'âœ¨', 'ğŸ‡', 'ğŸ†'][Math.floor(Math.random() * 4)];
                    explosion.style.left = centerX + 'px';
                    explosion.style.top = centerY + 'px';
                    explosion.style.fontSize = (Math.random() * 20 + 10) + 'px';
                    explosion.style.transform = `translate(-50%, -50%)`;
                    
                    document.body.appendChild(explosion);
                    
                    setTimeout(() => {
                        if (explosion.parentNode) {
                            explosion.parentNode.removeChild(explosion);
                        }
                    }, 1000);
                }, i * 100);
            }
        }
        
        // åˆ›å»ºä¸‹è½çˆ±å¿ƒ
        function createFallingHeart() {
            const heart = document.createElement('div');
            heart.className = 'celebration-element hardware-accelerated heart-beat';
            heart.textContent = ['ğŸ’–', 'ğŸ’•', 'ğŸ’˜', 'ğŸ’', 'ğŸ’“'][Math.floor(Math.random() * 5)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.top = '-30px';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heart.style.animation = `heartFloat ${Math.random() * 2 + 3}s ease-out forwards`;
            
            document.body.appendChild(heart);
            
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, 5000);
        }
        
        // åˆ›å»ºè´è¶
        function createButterfly() {
            const butterfly = document.createElement('div');
            butterfly.className = 'celebration-element hardware-accelerated butterfly-float';
            butterfly.textContent = 'ğŸ¦‹';
            butterfly.style.left = Math.random() * 100 + '%';
            butterfly.style.top = Math.random() * 50 + '%';
            butterfly.style.fontSize = (Math.random() * 25 + 20) + 'px';
            butterfly.style.animation = `floatSideways ${Math.random() * 3 + 4}s ease-in-out infinite`;
            
            document.body.appendChild(butterfly);
            
            setTimeout(() => {
                if (butterfly.parentNode) {
                    butterfly.parentNode.removeChild(butterfly);
                }
            }, 6000);
        }
        
        // åˆ›å»ºé—ªçƒæ˜Ÿæ˜Ÿ
        function createTwinklingStar() {
            const star = document.createElement('div');
            star.className = 'celebration-element hardware-accelerated star-twinkle';
            star.textContent = ['â­', 'ğŸ’«', 'âœ¨', 'ğŸŒŸ', 'âš¡'][Math.floor(Math.random() * 5)];
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.fontSize = (Math.random() * 15 + 10) + 'px';
            star.style.animation = `starTwinkle ${Math.random() * 2 + 3}s ease-in-out infinite`;
            
            document.body.appendChild(star);
            
            setTimeout(() => {
                if (star.parentNode) {
                    star.parentNode.removeChild(star);
                }
            }, 4000);
        }
        
        // åˆ›å»ºäº”å½©çº¸å±‘
        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'celebration-element hardware-accelerated';
            confetti.style.width = (Math.random() * 8 + 6) + 'px';
            confetti.style.height = (Math.random() * 16 + 12) + 'px';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.top = '-30px';
            confetti.style.background = ['#ff6b9d', '#9b59b6', '#3498db', '#ffd700', '#ff8a80', '#81c784', '#64b5f6', '#ba68c8', '#ffb74d', '#aed581'][Math.floor(Math.random() * 10)];
            confetti.style.borderRadius = '3px';
            confetti.style.animation = `confettiFloat ${Math.random() * 2 + 3}s ease-out forwards`;
            confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
            
            document.body.appendChild(confetti);
            
            setTimeout(() => {
                if (confetti.parentNode) {
                    confetti.parentNode.removeChild(confetti);
                }
            }, 5000);
        }
        
        // åˆ›å»ºé­”æ³•ç²’å­
        function createMagicParticle() {
            const particle = document.createElement('div');
            particle.className = 'celebration-element hardware-accelerated magic-sparkle';
            particle.textContent = ['âœ¨', 'ğŸ’«', 'ğŸŒŸ', 'ğŸ’', 'ğŸŒˆ', 'ğŸ”®', 'âš¡', 'ğŸ’–'][Math.floor(Math.random() * 8)];
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.fontSize = (Math.random() * 12 + 8) + 'px';
            particle.style.animation = `magicSparkle ${Math.random() * 2 + 2}s ease-in-out infinite`;
            
            document.body.appendChild(particle);
            
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, 3000);
        }
        
        // åˆ›å»ºæ³¡æ³¡
        function createBubble() {
            const bubble = document.createElement('div');
            bubble.className = 'celebration-element hardware-accelerated bubble-rise';
            bubble.style.width = (Math.random() * 25 + 15) + 'px';
            bubble.style.height = (Math.random() * 25 + 15) + 'px';
            bubble.style.left = Math.random() * 100 + '%';
            bubble.style.bottom = '-30px';
            bubble.style.background = 'rgba(255, 107, 157, 0.3)';
            bubble.style.border = '2px solid rgba(255, 107, 157, 0.6)';
            bubble.style.borderRadius = '50%';
            bubble.style.animation = `bubbleRise ${Math.random() * 3 + 4}s ease-out forwards`;
            
            document.body.appendChild(bubble);
            
            setTimeout(() => {
                if (bubble.parentNode) {
                    bubble.parentNode.removeChild(bubble);
                }
            }, 7000);
        }
        
        // åˆ›å»ºçƒŸèŠ±
        function createFirework() {
            const firework = document.createElement('div');
            firework.className = 'firework-element hardware-accelerated fireworks';
            firework.textContent = ['ğŸ‡', 'ğŸ†', 'ğŸ’¥', 'âœ¨', 'ğŸŒŸ'][Math.floor(Math.random() * 5)];
            firework.style.left = Math.random() * 100 + '%';
            firework.style.top = Math.random() * 50 + '%';
            firework.style.fontSize = (Math.random() * 30 + 20) + 'px';
            
            document.body.appendChild(firework);
            
            setTimeout(() => {
                if (firework.parentNode) {
                    firework.parentNode.removeChild(firework);
                }
            }, 1500);
        }
        
        // åˆ›å»ºçˆ†ç‚¸æ–‡å­—
        function createExplodingText() {
            const texts = ['LOVE', 'YES', 'ğŸ’•', 'ğŸ’–', 'â¤ï¸', 'ğŸ‰'];
            const colors = ['#ff6b9d', '#9b59b6', '#3498db', '#ffd700'];
            
            for (let i = 0; i < texts.length; i++) {
                setTimeout(() => {
                    const text = document.createElement('div');
                    text.className = 'celebration-element hardware-accelerated tada';
                    text.textContent = texts[i];
                    text.style.left = Math.random() * 100 + '%';
                    text.style.top = Math.random() * 100 + '%';
                    text.style.fontSize = (Math.random() * 30 + 20) + 'px';
                    text.style.color = colors[Math.floor(Math.random() * colors.length)];
                    text.style.fontWeight = 'bold';
                    
                    document.body.appendChild(text);
                    
                    setTimeout(() => {
                        if (text.parentNode) {
                            text.parentNode.removeChild(text);
                        }
                    }, 2000);
                }, i * 300);
            }
        }
        
        // æ˜¾ç¤ºé›€è·ƒè¯è¯­
        function showExcitedMessages() {
            console.log('æ˜¾ç¤ºé›€è·ƒè¯è¯­');
            
            // åœ¨å±å¹•å„ä¸ªä½ç½®æ˜¾ç¤ºé›€è·ƒè¯è¯­
            for (let i = 0; i < excitedMessages.length; i++) {
                setTimeout(() => {
                    const message = document.createElement('div');
                    message.className = 'excited-text hardware-accelerated';
                    message.textContent = excitedMessages[i];
                    message.style.left = Math.random() * 80 + 10 + '%';
                    message.style.top = Math.random() * 80 + 10 + '%';
                    message.style.transform = 'translate(-50%, -50%)';
                    message.style.animationDelay = (Math.random() * 0.5) + 's';
                    
                    document.body.appendChild(message);
                    
                    setTimeout(() => {
                        if (message.parentNode) {
                            message.parentNode.removeChild(message);
                        }
                    }, 3000);
                }, i * 500);
            }
            
            // æŒç»­æ˜¾ç¤ºæ›´å¤šé›€è·ƒè¯è¯­
            let messageIndex = 0;
            const messageInterval = setInterval(() => {
                if (!isCelebrating) {
                    clearInterval(messageInterval);
                    return;
                }
                
                const message = document.createElement('div');
                message.className = 'excited-text hardware-accelerated';
                message.textContent = excitedMessages[messageIndex % excitedMessages.length];
                message.style.left = Math.random() * 80 + 10 + '%';
                message.style.top = Math.random() * 80 + 10 + '%';
                message.style.transform = 'translate(-50%, -50%)';
                
                document.body.appendChild(message);
                
                setTimeout(() => {
                    if (message.parentNode) {
                        message.parentNode.removeChild(message);
                    }
                }, 3000);
                
                messageIndex++;
            }, 1000);
        }
        
        // æ˜¾ç¤ºæƒŠå–œæ¨¡æ€æ¡†
        function showSurpriseModal() {
            console.log('æ˜¾ç¤ºæƒŠå–œæ¨¡æ€æ¡†');
            surpriseModal.classList.remove('hidden');
            
            // æ·»åŠ æƒŠå–œç²’å­æ•ˆæœ
            createSurpriseParticles();
        }
        
        // å¤„ç†æƒŠå–œæŒ‰é’®
        function handleSurprise() {
            console.log('å¤„ç†æƒŠå–œæŒ‰é’®');
            surpriseModal.classList.add('hidden');
            
            // æ˜¾ç¤ºé€šçŸ¥
            notification.classList.remove('hidden');
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 4000);
            
            // æ·»åŠ æœ€åä¸€æ³¢åº†ç¥åŠ¨ç”»
            createFinalCelebration();
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed z-20 bg-gradient-to-r from-love to-magic text-white py-2 px-4 rounded-xl shadow-xl animate-float hardware-accelerated';
            notification.textContent = message;
            notification.style.left = '50%';
            notification.style.top = '50%';
            notification.style.transform = 'translate(-50%, -50%)';
            notification.style.fontSize = '1rem';
            notification.style.zIndex = '30';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 2000);
        }
        
        // å¼€å§‹ä¸°å¯Œçš„èƒŒæ™¯è£…é¥°
        function startRichBackgroundDecorations() {
            console.log('å¼€å§‹ä¸°å¯Œçš„èƒŒæ™¯è£…é¥°');
            
            // å®šæœŸæ·»åŠ å„ç§èƒŒæ™¯è£…é¥°
            backgroundInterval = setInterval(() => {
                if (!isCelebrating) { // åº†ç¥æ—¶ä¸æ·»åŠ èƒŒæ™¯è£…é¥°
                    createBackgroundDecoration();
                }
            }, 1500);
        }
        
        // åˆ›å»ºèƒŒæ™¯è£…é¥°
        function createBackgroundDecoration() {
            const decorations = [
                { type: 'heart', content: ['ğŸ’–', 'ğŸ’•', 'ğŸ’˜'], animation: 'floatUp', duration: 6 },
                { type: 'star', content: ['â­', 'ğŸ’«', 'âœ¨'], animation: 'floatUp', duration: 5 },
                { type: 'butterfly', content: ['ğŸ¦‹'], animation: 'floatSideways', duration: 8 },
                { type: 'magic', content: ['âœ¨', 'ğŸŒŸ'], animation: 'magicSparkle', duration: 4 }
            ];
            
            const decoration = decorations[Math.floor(Math.random() * decorations.length)];
            const element = document.createElement('div');
            element.className = 'floating-decoration hardware-accelerated';
            element.textContent = decoration.content[Math.floor(Math.random() * decoration.content.length)];
            element.style.left = Math.random() * 100 + '%';
            element.style.top = Math.random() > 0.5 ? '100vh' : '-30px';
            element.style.fontSize = (Math.random() * 10 + 8) + 'px';
            element.style.opacity = '0.7';
            element.style.animation = `${decoration.animation} ${Math.random() * 2 + decoration.duration}s ease-out forwards`;
            
            document.body.appendChild(element);
            
            setTimeout(() => {
                if (element.parentNode) {
                    element.parentNode.removeChild(element);
                }
            }, (decoration.duration + 2) * 1000);
        }
        
        // å¼€å§‹èƒŒæ™¯ç²’å­æ•ˆæœ
        function startBackgroundParticles() {
            console.log('å¼€å§‹èƒŒæ™¯ç²’å­æ•ˆæœ');
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    createBackgroundParticle();
                }, i * 500);
            }
        }
        
        // åˆ›å»ºèƒŒæ™¯ç²’å­
        function createBackgroundParticle() {
            const particles = ['â€¢', 'â—¦', 'â—‹', 'â€¢', 'â—¦'];
            const particle = document.createElement('div');
            particle.className = 'background-particle hardware-accelerated star-twinkle';
            particle.textContent = particles[Math.floor(Math.random() * particles.length)];
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.fontSize = (Math.random() * 4 + 2) + 'px';
            particle.style.color = ['#ff6b9d', '#9b59b6', '#3498db', '#ffd700'][Math.floor(Math.random() * 4)];
            particle.style.opacity = Math.random() * 0.5 + 0.3;
            particle.style.animation = `starTwinkle ${Math.random() * 3 + 4}s ease-in-out infinite`;
            
            document.body.appendChild(particle);
            
            // å®šæœŸé‡æ–°å®šä½
            setInterval(() => {
                if (particle.parentNode && !isCelebrating) {
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                }
            }, Math.random() * 10000 + 5000);
        }
        
        // åˆ›å»ºæ¨¡æ€æ¡†ç²’å­æ•ˆæœ
        function createModalParticles() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'celebration-element hardware-accelerated';
                    particle.textContent = ['ğŸ’–', 'âœ¨', 'â­', 'ğŸ’•'][Math.floor(Math.random() * 4)];
                    particle.style.left = '50%';
                    particle.style.top = '50%';
                    particle.style.fontSize = (Math.random() * 12 + 8) + 'px';
                    particle.style.transform = `translate(-50%, -50%) rotate(${Math.random() * 360}deg)`;
                    particle.style.animation = `sparkle ${Math.random() * 0.5 + 0.5}s ease-out forwards`;
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 1000);
                }, i * 100);
            }
        }
        
        // åˆ›å»ºæƒŠå–œç²’å­æ•ˆæœ
        function createSurpriseParticles() {
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'celebration-element hardware-accelerated magic-sparkle';
                    particle.textContent = ['ğŸ‰', 'ğŸŠ', 'ğŸ’–', 'ğŸ’•', 'â­', 'âœ¨', 'ğŸ’«', 'ğŸŒˆ'][Math.floor(Math.random() * 8)];
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.fontSize = (Math.random() * 16 + 12) + 'px';
                    particle.style.animation = `magicSparkle ${Math.random() * 2 + 2}s ease-in-out infinite`;
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 3000);
                }, i * 150);
            }
        }
        
        // åˆ›å»ºæœ€ç»ˆåº†ç¥åŠ¨ç”»
        function createFinalCelebration() {
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'celebration-element hardware-accelerated heart-beat';
                    particle.textContent = ['ğŸ’–', 'ğŸ’•', 'ğŸ’˜', 'ğŸŠ', 'ğŸ‰'][Math.floor(Math.random() * 5)];
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.fontSize = (Math.random() * 20 + 15) + 'px';
                    particle.style.animation = `heartFloat ${Math.random() * 2 + 2}s ease-out forwards`;
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 3000);
                }, i * 200);
            }
        }
        
        // æ¸…ç†å‡½æ•°
        function cleanup() {
            console.log('æ¸…ç†èµ„æº');
            if (runawayInterval) {
                clearInterval(runawayInterval);
            }
            if (backgroundInterval) {
                clearInterval(backgroundInterval);
            }
            
            // æ¸…ç†æ‰€æœ‰åŠ¨ç”»å…ƒç´ 
            const animationElements = document.querySelectorAll('.celebration-element, .floating-decoration, .background-particle, .firework-element, .excited-text');
            animationElements.forEach(el => {
                if (el.parentNode) {
                    el.parentNode.removeChild(el);
                }
            });
        }
        
        // é¡µé¢å¸è½½æ—¶æ¸…ç†
        window.addEventListener('beforeunload', cleanup);
        
        // è¾“å‡ºåˆå§‹åŒ–å®Œæˆä¿¡æ¯
        console.log('ğŸ‰ æ¢¦å¹»æµªæ¼«å‘Šç™½ - é›€è·ƒç‰ˆ å·²æˆåŠŸåŠ è½½ï¼');
        console.log('ğŸ“± ä¸“ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–ï¼Œæ€§èƒ½æµç•…');
        console.log('ğŸ’– è¶…ä¸°å¯Œçš„åº†ç¥åŠ¨ç”»ï¼šçˆ†ç‚¸æ•ˆæœã€çƒŸèŠ±ã€çˆ±å¿ƒé›¨ã€è´è¶é£èˆã€æ˜Ÿæ˜Ÿé—ªçƒ');
        console.log('ğŸƒâ€â™‚ï¸ æ™ºèƒ½é€ƒè·‘æ¨¡å¼å·²å°±ç»ª');
        console.log('ğŸŠ é›€è·ƒè¯è¯­ç³»ç»Ÿï¼šç‚¹å‡»"æˆ‘æ„¿æ„"åæ˜¾ç¤ºå¼€å¿ƒçš„è¯è¯­');
        console.log('ğŸš€ æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼');
    </script>
</body>
</html>